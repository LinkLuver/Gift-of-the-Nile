namespace = gotn_formable_event

gotn_formable_event.1 = { #Formation of Canaan, religion change + claims
	type = country_event
	hidden = yes

	immediate = {
		set_country_religion = carthaginian_pantheon
		every_province = {
			limit = {
				OR = {
				    is_in_region = syria_region
				    is_in_region = palestine_region
				}
			}
			add_claim = root
		}
	}
}
gotn_formable_event.2 = { # New Zagrossian Culture Group Event
	type = country_event
	title = gotn_formable_event_2_title
    desc = gotn_formable_event_2_desc
    picture = interesting_histories_asia_mountains

    option = {
    	name = gotn_formable_event_2_a
    	custom_tooltip = change_culture_group_tt
    	hidden_effect = {
    		every_owned_province = {
    			every_pops_in_province = {
	    			limit = {
	    				OR = {
	    					pop_culture = cyrtian
	    					pop_culture = median
	    					pop_culture = pasargadi
	    				}
	    			}
	    			set_pop_culture = kurdish
	    		}
    		}
    		every_owned_province = {
    			every_pops_in_province = {
	    			limit = {
	    				OR = {
	    					pop_culture = cardukoi
	    					pop_culture = qardu
	    				}
	    			}
	    			set_pop_culture = karduki
	    		}
    		}
    		every_owned_province = {
    			every_pops_in_province = {
	    			limit = {
	    				OR = {
	    					pop_culture = gutian
	    					pop_culture = cossian
	    				}
	    			}
	    			set_pop_culture = lurs
	    		}
    		}
    		every_owned_province = {
    			every_pops_in_province = {
	    			limit = {
	    				OR = {
	    					pop_culture = lullu
	    					pop_culture = tukri
	    				}
	    			}
	    			set_pop_culture = lullutukri
	    		}
    		}
    		every_owned_province = {
    			every_pops_in_province = {
	    			limit = {
	    				pop_culture = shubar
	    			}
	    			set_pop_culture = subari
	    		}
    		}
    	}
    	if = {
    		limit = {
    			OR = {
    				primary_culture = cyrtian
    				primary_culture = median
    				primary_culture = pasargadi
    			}
    		}
    		set_primary_culture_cleanup_effect = {
	  			NEW_PRIMARY_CULTURE = kurdish
  				MAKE_OLD_CULTURE_INTEGRATED = no
    		}
    	}
    	if = {
    		limit = {
    			OR = {
    				primary_culture = cardukoi
    				primary_culture = qardu
    			}
    		}
    		set_primary_culture_cleanup_effect = {
	  			NEW_PRIMARY_CULTURE = karduki
  				MAKE_OLD_CULTURE_INTEGRATED = no
    		}
    	}
        if = {
    		limit = {
    			OR = {
    				primary_culture = gutian
    				primary_culture = cossian
    			}
    		}
    		set_primary_culture_cleanup_effect = {
	  			NEW_PRIMARY_CULTURE = lurs
  				MAKE_OLD_CULTURE_INTEGRATED = no
    		}
    	}
    	if = {
    		limit = {
    			OR = {
    				primary_culture = lullu
    				primary_culture = tukri
    			}
    		}
    		set_primary_culture_cleanup_effect = {
	  			NEW_PRIMARY_CULTURE = lullutukri
  				MAKE_OLD_CULTURE_INTEGRATED = no
    		}
    	}
    	if = {
    		limit = {
    			primary_culture = shubar
    		}
    		set_primary_culture_cleanup_effect = {
	  			NEW_PRIMARY_CULTURE = subari
  				MAKE_OLD_CULTURE_INTEGRATED = no
    		}
    	}
    }

    option = {
    	name = gotn_formable_event_2_b
    	custom_tooltip = dont_culture_group_tt
    }
}
gotn_formable_event.3 = { #Formation of Canaan, religion change + claims
	type = country_event
	title = gotn_formable_event_3_title
	desc = gotn_formable_event_3_desc
	picture = rep_hattusa

	option = {
		name = gotn_formable_event_3.a
		custom_tooltip = urartu_assimilation_effect_tt
		hidden_effect = {
			every_owned_province = {
				every_pops_in_province = {
					limit = {
						NOR = {
							pop_culture = sophene
							pop_culture = mitanni
							pop_culture = arzonian
							pop_culture = urtaian
						}
					}
					random_list = {
						90 = { }
						10 = { set_pop_culture = urtaian }
					}
				}
			}
		}
		set_primary_culture_cleanup_effect = {
	  		NEW_PRIMARY_CULTURE = urtaian
  			MAKE_OLD_CULTURE_INTEGRATED = yes
    	}
	}
	option = {
		name = gotn_formable_event_3.b
	}
}

gotn_formable_event.4 = { #Capital for the Empire
	type = country_event
	title = "diadochi_flavor.7"
	desc = "diadochi_flavor.7.desc"
	
	left_portrait = root.current_ruler
	
	picture = great_city

	option = {
		name = diadochi_flavor.7.a #Pella
		trigger = {
			owns = 379
		}
		if = {
			limit = {
				p:379 = { is_capital = no }
			}
			set_capital = 379
			hidden_effect = { p:379.state = { set_state_capital = 379 } }
			capital_scope = {
				establish_city_effect = yes
			}
		}
		p:379 = {
			add_province_modifier = {
				name = "hellenic_empire_pella_capital_modifier"
				duration = -1
			}
		}
	}

	option = {
		name = diadochi_flavor.7.b #Athens
		trigger = {
			owns = 416
		}
		if = {
			limit = {
				p:416 = { is_capital = no }
			}
			set_capital = 416
			hidden_effect = { p:416.state = { set_state_capital = 416 } }
			capital_scope = {
				establish_city_effect = yes
			}
		}
		p:416 = {
			add_province_modifier = {
				name = "hellenic_empire_athens_capital_modifier"
				duration = -1
			}
		}
	}
	option = {
		name = diadochi_flavor.7.c #Syrakousai
		trigger = {
			owns = 84
		}
		if = {
			limit = {
				p:84 = { is_capital = no }
			}
			set_capital = 84
			hidden_effect = { p:84.state = { set_state_capital = 84 } }
			capital_scope = {
				establish_city_effect = yes
			}
		}
		p:84 = {
			add_province_modifier = {
				name = "hellenic_empire_syrakousai_capital_modifier"
				duration = -1
			}
		}
	}
	option = {
		name = diadochi_flavor.7.d #Kalathousa
		trigger = {
			owns = 1347
		}
		if = {
			limit = {
				p:1347 = { is_capital = no }
			}
			set_capital = 1347
			hidden_effect = { p:1347.state = { set_state_capital = 1347 } }
			capital_scope = {
				establish_city_effect = yes
			}
		}
		p:1347 = {
			add_province_modifier = {
				name = "hellenic_empire_kalathousa_capital_modifier"
				duration = -1
			}
		}
	}
	option = {
		name = diadochi_flavor.7.e #Keep my own
		trigger = { #Forced to keep the one you already have if one of these is your capital
			p:416 = { is_capital = no } #Athens
			p:379 = { is_capital = no } #Pella
			p:84 = { is_capital = no } #Syrakousai
			p:1347 = { is_capital = no } #Kalthousa
		}
		capital_scope = {
			add_province_modifier = {
				name = "hellenic_empire_generic_capital_modifier"
				duration = -1
			}
		}
	}
}